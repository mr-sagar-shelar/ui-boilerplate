# Agent: `container`

## Description

The `container` agent generates a "smart" container component that orchestrates multiple "dumb" UI components. It is responsible for fetching data, managing application state, and coordinating the overall user workflow, such as switching between edit and read-only modes.

## Purpose

- **Orchestrates Components**: Manages the flow of data and events between multiple UI components.
- **Manages State**: Creates and uses a `Zustand` store to manage the container's state, including the `isEditing` mode and the data for each child component.
- **Handles Data Fetching**: Integrates with the API hooks (generated by the `component-api` agent) to fetch and submit data.
- **Separates Concerns**: Fulfills the "Container" part of the "Container/Presentational" pattern, allowing the UI components to remain simple and focused on rendering.

## Inputs

- The name for the new container.
- A list of the UI components that the container will orchestrate.

## Outputs

- **/packages/ui/containers/{ContainerName}/{ContainerName}.tsx**: The implemented container component.
- **/packages/ui/containers/{ContainerName}/{ContainerName}.store.ts**: The Zustand store for managing the container's state.
- **/packages/ui/containers/{ContainerName}/{ContainerName}.api.ts**: The API logic file for the container.

## Example Prompt

This is the standardized prompt for creating the `UserProfilePage` container.

```markdown
Create a container named "UserProfilePage".

This container will orchestrate the display and editing of a user's profile.

**Components to Use**:
-   `UserProfile` from `/packages/ui/src/component/UserProfile/UserProfile.tsx`.
-   `Button` from `/packages/ui/src/button/Button.tsx`.

**API Hooks to Use**:
-   `useGetUserProfile` from `/packages/api/UserProfile/UserProfile.api.ts`.
-   `useUpdateUserProfile` from `/packages/api/UserProfile/UserProfile.api.ts`.

**State Management**:
-   Use Zustand for state management. Create a store at `/packages/ui/containers/UserProfilePage/UserProfilePage.store.ts`.
-   The store should manage `isEditing` (boolean), and the current `userProfile` data being edited.

**Functional Requirements**:

1.  **Data Fetching**: On mount, use the `useGetUserProfile` hook to fetch the profile data for a given `userId` from the URL.
2.  **Initial State**: Display the `UserProfile` component in read-only mode (`isEditable={false}`). Show a loading indicator while data is being fetched. Show an error message on fetch failure.
3.  **Edit Flow**:
    *   Include an "Edit" button. When clicked, it should set `isEditing` to `true` in the Zustand store.
    *   When `isEditing` is true, render the `UserProfile` component in editable mode (`isEditable={true}`).
    *   The editable form should be populated with the data from the store.
4.  **Submission Flow**:
    *   While editing, include "Save" and "Cancel" buttons.
    *   **Cancel**: Reverts any changes and sets `isEditing` back to `false`.
    *   **Save**: Triggers the `useUpdateUserProfile` mutation with the updated profile data from the store. On success, set `isEditing` to `false`. Disable the save button if the form is invalid.
5.  **State Updates**: The container should listen for `onChange` events from the `UserProfile` component and update the Zustand store accordingly.
```
